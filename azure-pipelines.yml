trigger:
- azure-pipelines

pool:
  vmImage: 'ubuntu-latest'

steps:
- script: |
    ./contrib/setup-btor2tools.sh
    ./contrib/setup-cadical.sh
    ./contrib/setup-lingeling.sh
  displayName: 'Setup dependencies'

- script: |
    ./configure.sh
  displayName: 'Configure Boolector'

- script: |
    cd build
    make -j $(nproc)
  displayName: 'Build Boolector'

- script: ctest -j$(nproc)
  displayName: 'Run CTest'
